{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport MutableValue from \"./MutableValue\";\n\nvar Mapper = function () {\n  function Mapper(module, mapper) {\n    var _this = this;\n\n    var inputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var outputs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n    _classCallCheck(this, Mapper);\n\n    this.dirty = true;\n    this.id = Mapper.MAPPER_ID++;\n    this.inputs = this.extractMutablesFromArray(inputs);\n    this.outputs = this.extractMutablesFromArray(outputs);\n    this.mapper = mapper;\n\n    var markDirty = function markDirty() {\n      _this.dirty = true;\n      module.maybeRequestRender();\n    };\n\n    this.inputs.forEach(function (input) {\n      input.addListener(markDirty);\n    });\n  }\n\n  _createClass(Mapper, [{\n    key: \"execute\",\n    value: function execute() {\n      this.dirty = false;\n      this.mapper();\n    }\n  }, {\n    key: \"extractMutablesFromArray\",\n    value: function extractMutablesFromArray(array) {\n      var res = [];\n\n      function extractMutables(value) {\n        if (value instanceof MutableValue) {\n          res.push(value);\n        } else if (Array.isArray(value)) {\n          value.forEach(function (v) {\n            return extractMutables(v);\n          });\n        } else if (typeof value === 'object') {\n          Object.keys(value).forEach(function (key) {\n            extractMutables(value[key]);\n          });\n        }\n      }\n\n      extractMutables(array);\n      return res;\n    }\n  }]);\n\n  return Mapper;\n}();\n\nexport { Mapper as default };\nMapper.MAPPER_ID = 1;","map":{"version":3,"sources":["C:/Users/perum/Documents/Harmony/frontend/HarmonyMobileApp/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/Mapper.js"],"names":["MutableValue","Mapper","module","mapper","inputs","outputs","dirty","id","MAPPER_ID","extractMutablesFromArray","markDirty","maybeRequestRender","forEach","input","addListener","array","res","extractMutables","value","push","Array","isArray","v","Object","keys","key"],"mappings":";;AAEA,OAAOA,YAAP;;IACqBC,M;AACjB,kBAAYC,MAAZ,EAAoBC,MAApB,EAAuD;AAAA;;AAAA,QAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AACnD,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,EAAL,GAAUN,MAAM,CAACO,SAAP,EAAV;AACA,SAAKJ,MAAL,GAAc,KAAKK,wBAAL,CAA8BL,MAA9B,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKI,wBAAL,CAA8BJ,OAA9B,CAAf;AACA,SAAKF,MAAL,GAAcA,MAAd;;AACA,QAAMO,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,MAAA,KAAI,CAACJ,KAAL,GAAa,IAAb;AACAJ,MAAAA,MAAM,CAACS,kBAAP;AACH,KAHD;;AAIA,SAAKP,MAAL,CAAYQ,OAAZ,CAAoB,UAACC,KAAD,EAAW;AAC3BA,MAAAA,KAAK,CAACC,WAAN,CAAkBJ,SAAlB;AACH,KAFD;AAGH;;;;WACD,mBAAU;AACN,WAAKJ,KAAL,GAAa,KAAb;AACA,WAAKH,MAAL;AACH;;;WACD,kCAAyBY,KAAzB,EAAgC;AAC5B,UAAMC,GAAG,GAAG,EAAZ;;AACA,eAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,YAAIA,KAAK,YAAYlB,YAArB,EAAmC;AAC/BgB,UAAAA,GAAG,CAACG,IAAJ,CAASD,KAAT;AACH,SAFD,MAGK,IAAIE,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAJ,EAA0B;AAC3BA,UAAAA,KAAK,CAACN,OAAN,CAAc,UAACU,CAAD;AAAA,mBAAOL,eAAe,CAACK,CAAD,CAAtB;AAAA,WAAd;AACH,SAFI,MAGA,IAAI,OAAOJ,KAAP,KAAiB,QAArB,EAA+B;AAChCK,UAAAA,MAAM,CAACC,IAAP,CAAYN,KAAZ,EAAmBN,OAAnB,CAA2B,UAACa,GAAD,EAAS;AAChCR,YAAAA,eAAe,CAACC,KAAK,CAACO,GAAD,CAAN,CAAf;AACH,WAFD;AAGH;AACJ;;AACDR,MAAAA,eAAe,CAACF,KAAD,CAAf;AACA,aAAOC,GAAP;AACH;;;;;;SApCgBf,M;AAsCrBA,MAAM,CAACO,SAAP,GAAmB,CAAnB","sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-nocheck\r\nimport MutableValue from './MutableValue';\r\nexport default class Mapper {\r\n    constructor(module, mapper, inputs = [], outputs = []) {\r\n        this.dirty = true;\r\n        this.id = Mapper.MAPPER_ID++;\r\n        this.inputs = this.extractMutablesFromArray(inputs);\r\n        this.outputs = this.extractMutablesFromArray(outputs);\r\n        this.mapper = mapper;\r\n        const markDirty = () => {\r\n            this.dirty = true;\r\n            module.maybeRequestRender();\r\n        };\r\n        this.inputs.forEach((input) => {\r\n            input.addListener(markDirty);\r\n        });\r\n    }\r\n    execute() {\r\n        this.dirty = false;\r\n        this.mapper();\r\n    }\r\n    extractMutablesFromArray(array) {\r\n        const res = [];\r\n        function extractMutables(value) {\r\n            if (value instanceof MutableValue) {\r\n                res.push(value);\r\n            }\r\n            else if (Array.isArray(value)) {\r\n                value.forEach((v) => extractMutables(v));\r\n            }\r\n            else if (typeof value === 'object') {\r\n                Object.keys(value).forEach((key) => {\r\n                    extractMutables(value[key]);\r\n                });\r\n            }\r\n        }\r\n        extractMutables(array);\r\n        return res;\r\n    }\r\n}\r\nMapper.MAPPER_ID = 1;\r\n"]},"metadata":{},"sourceType":"module"}